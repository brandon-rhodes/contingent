
* Add cycle detection to rebuild(), so that it does not run forever.
